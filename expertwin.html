<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ExperTwin</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <style>
    .ui-controlgroup-vertical {
      width: 150px;
    }
    .ui-controlgroup.ui-controlgroup-vertical > button.ui-button,
    .ui-controlgroup.ui-controlgroup-vertical > .ui-controlgroup-label {
      text-align: center;
    }
    #topic-type-button {
      width: 120px;
    }
    .ui-controlgroup-horizontal .ui-spinner-input {
      width: 20px;
    }

  </style>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script>

  $(document).ready(function() {

    function getFileName(choice) {
      var result = "";
      switch (choice) {
        case "machine learning":
          result = "machine_learning.json";
          break;
        case "neural networks":
          result = "neural_networks.json";
          break;
        case "semantic web":
          result = "semantic_web.json";
          break;
        case "machine vision":
          result = "machine_vision.json";
          break;
        case "artificial intelligence":
          result = "ai.json";
          break;
        case "data mining":
          result = "data_mining.json";
          break;
        case "natural language processing":
          result = "natural_language_processing.json";
          break;
        case "robotics":
          result = "robotics.json";
          break;
        case "deep learning":
          result = "deep_learning.json";
          break;
        default:
      }
      return result;
    }

    function walk(obj) {
      for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
          var val = obj[key];
          console.log("key " + key);
          console.log(" val " + val.title);
          console.log(" val " + val.link);
          console.log(" val " + val.date);
          //walk(val);
        }
      }
    }
    // walk(obj);

    // $.getJSON( "test.json", function( data ) {
    //   walk(data);
    // });

    $("#btSelectId").click(function() {
      // alert("select " + $('#topicSelectId option:selected').val());
      // alert("select " + $('#topicSelectId option:selected').text());
      $("#taListId").val($('#topicSelectId option:selected').val());
      var fn = getFileName($('#topicSelectId option:selected').val());
      console.log('filename ' + fn);
      $.getJSON( fn, function( data ) {
        walk(data);
      });
      // walk(fn);
    });

    $("#btTypeId").click(function() {
      // alert("type " + $("#topicTypeId").val());
      $("#taListId").val($("#topicTypeId").val());
      var fn = getFileName($("#topicTypeId").val());
      console.log('filename ' + fn);
      $.getJSON( fn, function( data ) {
        walk(data);
      });      
    });

    $( ".controlgroup" ).controlgroup()
    $( ".controlgroup-vertical" ).controlgroup({
      "direction": "vertical"
    });
    var availableTags = [
      "machine learning",
      "neural networks",
      "semantic web",
      "machine vision",
      "artificial intelligence",
      "data mining",
      "natural language processing",
      "robotics",
      "deep learning"
    ];
    $("#topicTypeId").autocomplete({
      source: availableTags
    });
  });
  </script>
</head>
<body bgcolor="#9e9897">
<div class="widget">
  <h1>ExperTwins</h1>
  <fieldset>
    <legend>Select a Topic</legend>
    <div class="controlgroup">
      <select id="topicSelectId">
        <option value="machine learning">machine learning</option>
        <option value="neural networks">neural networks</option>
        <option value="semantic web">semantic web</option>
        <option value="machine vision">machine vision</option>
        <option value="artificial intelligence">artificial intelligence</option>
        <option value="data mining">data mining</option>
        <option value="natural language processing">natural language processing</option>
        <option value="robotics">robotics</option>
        <option value="deep learning">deep learning</option>
      </select>
      <button id="btSelectId">Submit</button>
    </div>
  </fieldset>
  <br>
  <fieldset>
    <legend>Type a Topic</legend>
    <div class="controlgroup">
      <div class="ui-widget">
        <input id="topicTypeId" class="ui-textinput">
        <button id="btTypeId">Submit</button>
      </div>
    </div>
  </fieldset>
  <br>
  <fieldset>
    <legend>Topic List</legend>
    <div class="controlgroup-vertical">
      <textarea id="taListId" rows="10" cols="60">topic summary...</textarea>
    </div>
  </fieldset>
  <br>
  <fieldset>
    <legend>Article Suggestions</legend>
    <div class="controlgroup-vertical">
      <textarea id="taId" rows="10" cols="60">article suggestions...</textarea>
    </div>
  </fieldset>
  <br>
  <fieldset>
    <legend>Graph View</legend>
    <div class="controlgroup-vertical">
      <p>d3 graph here...
    </div>
  </fieldset>
</div>

</body>
</html>
